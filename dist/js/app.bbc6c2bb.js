(function(t){function e(e){for(var o,i,r=e[0],l=e[1],c=e[2],p=0,d=[];p<r.length;p++)i=r[p],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&d.push(s[i][0]),s[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);u&&u(e);while(d.length)d.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],o=!0,r=1;r<a.length;r++){var l=a[r];0!==s[l]&&(o=!1)}o&&(n.splice(e--,1),t=i(i.s=a[0]))}return t}var o={},s={app:0},n=[];function i(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=o,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(a,o,function(e){return t[e]}.bind(null,o));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var o=a("85ec"),s=a.n(o);s.a},"3aaf":function(t,e){t.exports="data:image/png;base64,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"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-view")},n=[],i={name:"App"},r=i,l=(a("034f"),a("2877")),c=Object(l["a"])(r,s,n,!1,null,null,null),u=c.exports,p=a("8c4f"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[t._m(0),t._m(1),t._m(2),a("div",{staticClass:"thirdblock"},[a("button",{staticClass:"btn-green",on:{click:t.loginGuidap}},[t._v("Se connecter")])])])},m=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"header"},[o("img",{attrs:{alt:"Vue logo",src:a("3aaf")}}),o("h1",[t._v("LOGIN")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"firstblock"},[a("h3",[t._v("Identifiant")]),a("input",{staticClass:"inputTitle",attrs:{id:"ident",type:"text"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"secondblock"},[a("h3",[t._v("Mot de passe")]),a("input",{staticClass:"inputTitle",attrs:{id:"mdp",type:"password"}})])}],f=a("bc3a"),h=a.n(f),v=a("a7fe"),g=a.n(v),b=a("0628"),y=a.n(b);o["a"].use(y.a),o["a"].use(g.a,h.a);var A={name:"Login",props:{data:String},methods:{loginGuidap:function(){var t=this,e=document.getElementById("ident").value,a=document.getElementById("mdp").value;this.axios.post("https://post-api-platform.herokuapp.com/authentication_token",{username:e,password:a}).then((function(e){"OK"===e.statusText?(localStorage.setItem("token",e.data.token),t.$session.start(),t.$router.push("home")):alert("Identifiant ou mot de passe incorrect")}))}}},C=A,k=Object(l["a"])(C,d,m,!1,null,null,null),S=k.exports,w=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"wrapper"},[o("div",{staticClass:"headerBody"},[o("img",{attrs:{alt:"Vue logo",src:a("3aaf")}}),o("button",{staticClass:"btn-close logout",on:{click:t.logout}},[t._v("Se déconnecter")])]),o("div",[t._m(0),o("button",{staticClass:"btn-green",on:{click:t.showModal}},[o("i",{staticClass:"fas fa-plus-circle",staticStyle:{"font-size":"20px"}}),t._v(" Ajouter un article")]),t._l(t.listItem,(function(e){return o("div",{key:e.id,staticClass:"articles"},[o("div",{staticClass:"article"},[o("i",{staticClass:"far fa-trash-alt supp",staticStyle:{"font-size":"20px"},on:{click:function(a){return t.supprimer(e)}}}),o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"item.title"}],staticClass:"inputTitle",domProps:{value:e.title},on:{input:function(a){a.target.composing||t.$set(e,"title",a.target.value)}}})]),o("div",[o("textarea",{staticClass:"txtBody",domProps:{innerHTML:t._s(e.body)}})]),o("div",{staticClass:"save"},[o("button",{staticClass:"btn-green",on:{click:function(a){return t.patchData(e)}}},[t._v("Sauvegarder les modifications")])])])])}))],2),o("modal",{directives:[{name:"show",rawName:"v-show",value:t.isModalVisible,expression:"isModalVisible"}],on:{close:t.closeModal}})],1)},B=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"titleBody"},[a("h1",[t._v("Articles")])])}],E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal-fade"}},[a("div",{staticClass:"modal-backdrop"},[a("div",{staticClass:"modal",attrs:{role:"dialog","aria-labelledby":"modalTitle","aria-describedby":"modalDescription"}},[a("header",{staticClass:"modal-header",attrs:{id:"modalTitle"}},[t._t("header",[a("h2",[t._v("Ajouter un article")]),a("button",{staticClass:"btn-close-X",attrs:{type:"button","aria-label":"Close modal"},on:{click:t.close}},[t._v("x")])])],2),a("section",{staticClass:"modal-body",attrs:{id:"modalDescription"}},[t._t("body",[a("div",[a("h3",[t._v("Titre")]),a("input",{staticClass:"inputTitle",attrs:{id:"newArticleTitle"}})]),a("div",[a("h3",[t._v("Article")]),a("textarea",{staticClass:"txtBody",attrs:{id:"newArticleBody"}})])])],2),a("footer",{staticClass:"modal-footer"},[t._t("footer",[a("button",{staticClass:"btn-green",attrs:{type:"button","aria-label":"Close modal"},on:{click:t.enregistrement}},[t._v("Enregistrer")])])],2)])])])},x=[],I={name:"modal",methods:{close:function(){this.$emit("close")},enregistrement:function(){var t=document.getElementById("newArticleTitle"),e=document.getElementById("newArticleBody");this.axios.post("https://post-api-platform.herokuapp.com/api/posts",{title:t.value,body:e.value},{headers:{"Content-Type":"application/ld+json",Authorization:"Bearer "+localStorage.token}}).then(console.log("enregistrement effectué"),this.close(),location.reload())}}},M=I,O=Object(l["a"])(M,E,x,!1,null,null,null),T=O.exports;o["a"].use(y.a),o["a"].use(g.a,h.a);var X={name:"Home",components:{modal:T},props:{data:String},data:function(){return{listItem:"",isModalVisible:!1}},beforeCreate:function(){var t=this;this.$session.exists()||this.$router.push("/"),this.axios.get("https://post-api-platform.herokuapp.com/api/posts?page=1",{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:"Bearer "+localStorage.token}}).then((function(e){t.listItem=e.data["hydra:member"]}))},methods:{logout:function(){localStorage.clear(),this.$session.destroy(),this.$router.push("Login")},showModal:function(){this.isModalVisible=!0},closeModal:function(){this.isModalVisible=!1},patchData:function(t){var e=document.getElementsByClassName("inputTitle")[t.id-1],a=document.getElementsByClassName("txtBody")[t.id-1];this.axios.patch("https://post-api-platform.herokuapp.com/api/posts/"+t.id,{title:e.value,body:a.value},{headers:{"Content-Type":"application/merge-patch+json",Authorization:"Bearer "+localStorage.token}}).then((function(t){"OK"===t.statusText?console.log("enregistrement effectué"):alert(t.message)}))},supprimer:function(t){var e=confirm("Etes vous sur de vouloir supprimer l'article : "+t.title+" ?");1==e&&this.axios.delete("https://post-api-platform.herokuapp.com/api/posts/"+t.id,{headers:{"Content-Type":"application/merge-patch+json",Authorization:"Bearer "+localStorage.token}}).then(console.log("article supprimer"),location.reload())}}},J=X,R=Object(l["a"])(J,w,B,!1,null,null,null),L=R.exports;o["a"].use(p["a"]);var j=new p["a"]({routes:[{path:"/",component:S},{path:"/login",name:"Login",redirect:"/"},{path:"/home",name:"Home",component:L}]});new o["a"]({el:"#app",router:j,render:function(t){return t(u)},components:{App:u},template:"<App/>"})},"85ec":function(t,e,a){}});
//# sourceMappingURL=app.bbc6c2bb.js.map